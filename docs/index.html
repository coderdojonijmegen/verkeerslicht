<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
    <title>Inhoud</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css"
      integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <style>
      .task-list-item {
        list-style-type: none;
      }
      .task-list-item-checkbox {
        margin-left: -20px;
        vertical-align: middle;
      }
    </style>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI",
          "Ubuntu", "Droid Sans", sans-serif;
        font-size: 14px;
        line-height: 1.6;
      }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
  </head>
  <body>
    <h2 id="inhoud">Inhoud</h2>
    <ul>
      <li><a href="#introductie">Introductie</a></li>
      <li><a href="#scratch">Scratch</a></li>
      <li>
        <a href="#elektronica-voor-verkeerslicht"
          >Elektronica voor verkeerslicht</a
        >
      </li>
      <li>
        <a href="#breadboard">Breadboard</a>
        <ul>
          <li><a href="#led">LED</a></li>
          <li><a href="#knopje">Knopje</a></li>
          <li><a href="#fotocel">Fotocel</a></li>
        </ul>
      </li>
      <li>
        <a href="#microbit-visueel">micro:bit visueel</a>
        <ul>
          <li><a href="#de-verbinding-testen">De verbinding testen</a></li>
        </ul>
      </li>
      <li><a href="#microbit-python-code">micro:bit Python code</a></li>
      <li><a href="#arduino-visueel">Arduino visueel</a></li>
      <li><a href="#arduino-code">Arduino code</a></li>
    </ul>
    <h2 id="introductie">Introductie</h2>
    <p>Bij deze CoderDojo gaan we verkeerslichten maken. Dat kan met:</p>
    <ul>
      <li>Scratch</li>
      <li>
        micro:bit
        <ul>
          <li>visueel programmeren (lijkt op Scratch)</li>
          <li>in Python</li>
        </ul>
      </li>
      <li>
        Arduino
        <ul>
          <li>visueel programmeren (met mBlock, gebaseerd op Scratch)</li>
          <li>in de Arduino programmeertaal</li>
        </ul>
      </li>
    </ul>
    <p>
      Als je met de micro:bit of Arduino aan de slag gaat moet je zelf een
      circuitje bouwen. Daarvoor hebben we natuurlijk gekleurde LEDjes, en
      daarnaast ook knopjes en fotocellen waarmee je je verkeerslicht verder
      kunt uitbreiden.
    </p>
    <h2 id="scratch">Scratch</h2>
    <ul>
      <li>Ontwerp een verkeerlicht-sprite</li>
      <li>Laat het licht om de zoveel tijd van kleur veranderen</li>
      <li>
        Voeg een sprite toe die het verkeerslicht op rood/groen kan laten
        springen
      </li>
    </ul>
    <h2 id="elektronica-voor-verkeerslicht">Elektronica voor verkeerslicht</h2>
    <h2 id="breadboard">Breadboard</h2>
    <p>
      Je kunt een circuit bouwen op een zogenaamd breadboard. Deze zijn er in
      allerlei soorten en maten. Op dit schema kun je zien welke gaatjes
      (elektrisch) met elkaar verbonden zijn.
    </p>
    <img
      src="https://coderdojonijmegen.github.io/verkeerslicht/img/breadboard_verbindingen.png"
      style="height:400px"
    />
    <h3 id="led">LED</h3>
    <p>
      Net als batterijen hebben LED lampjes een plus en een min. Als je goed
      kijkt zijn de pootjes van de LED's niet even lang: het net iets langere
      pootje is de plus, de kortere de min.
    </p>
    <h3 id="knopje">Knopje</h3>
    <h3 id="fotocel">Fotocel</h3>
    <h3 id="circuit-met-led">Circuit met led</h3>
    <p>Een voorbeeld van een circuit met led.</p>
    <h2 id="microbit-visueel">micro:bit visueel</h2>
    <ul>
      <li>
        Gebruik bij voorkeur de
        <a href="https://www.google.nl/chrome/">Google Chrome webbrowser</a>
      </li>
      <li>Ga naar <a href="makecode.microbit.org">de Makecode editor</a></li>
      <li>Stel de taal in op Nederlands</li>
    </ul>
    <h3 id="de-verbinding-testen">De verbinding testen</h3>
    <ul>
      <li>Sluit de micro:bit met de USB kabel aan op de computer</li>
      <li>
        Maak een eerste programma: toon het hart-pictogram
        <img
          src="https://coderdojonijmegen.github.io/verkeerslicht/img/microbit-visueel-1-testprogramma.png"
          style="height:100px"
        />
      </li>
      <li>
        Download nu het programma naar de micro:bit
        <ul>
          <li>
            In Chrome: WebUSB -&gt; tandwiel -&gt; apparaat koppelen -&gt;
            Downloaden
          </li>
          <li>
            Andere browsers:
            <ul>
              <li>Downloaden -&gt; doel kiezen: &quot;MICROBIT&quot;</li>
              <li>
                Als standaardmap voor Downloads ingesteld: kopieer/verplaats
                vanaf daar
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
    <h3 id="een-led-laten-knipperen">Een LED laten knipperen</h3>
    <h3 id="meer-leds-aansluiten">Meer LEDs aansluiten</h3>
    <h3 id="timing-van-de-leds">Timing van de LEDs</h3>
    <h3 id="de-microbit-knoppen-gebruiken">De micro:bit knoppen gebruiken</h3>
    <h3 id="de-microbit-lichtsensor-gebruiken">
      De micro:bit lichtsensor gebruiken
    </h3>
    <h2 id="microbit-python-code">micro:bit Python code</h2>
    <ul>
      <li>
        Keuze tussen
        <a href="https://python.microbit.org/v/1.1"
          >https://python.microbit.org/v/1.1</a
        >
        en Mu editor?
      </li>

      <li>Maak een eerste programma:</li>
      <li></li>
    </ul>
    <h2 id="arduino-visueel">Arduino visueel</h2>
    <p>
      Om een arduino visueel te programmeren kunnen we gebruik maken van de
      mblock5 editor (<a href="http://www.mblock.cc/mblock-software/"
        >http://www.mblock.cc/mblock-software/</a
      >).
    </p>
    <p>
      Om een verkeerslicht te simuleren beginnen we met 1 led lampje en een
      arduino. Vervolgens kun je zelf aan de slag om een verkeerslicht in elkaar
      te zetten.
    </p>
    <h3 id="een-led-laten-knipperen-1">Een led laten knipperen</h3>
    <ol>
      <li>
        Maak het volgende circuit (met behulp van een breadboard). <br /><img
          src="https://coderdojonijmegen.github.io/verkeerslicht/img/Basic-LED.png"
          height="250px"
        />
      </li>
      <li>
        Schakel nu de LED in door de juiste output op <b><i>HOOG</i></b> te
        zetten.
      </li>
      <details>
        <summary>mBlock code</summary>
        <img
          src="https://coderdojonijmegen.github.io/verkeerslicht/img/arduino-block1.png"
          height="100px"
        />
      </details>
      <li>
        Nu wil je dat de LED daarna ook weer uit gaat.
        <details>
          <summary>mBlock code</summary>
          <img
            src="https://coderdojonijmegen.github.io/verkeerslicht/img/arduino-block2.png"
            height="100px"
          />
        </details>
      </li>
      <li>
        Er zit geen tijd tussen het aan- en uitgaan!
        <details>
          <summary>mBlock code</summary>
          <img
            src="https://coderdojonijmegen.github.io/verkeerslicht/img/arduino-block3.png"
            height="120px"
          />
        </details>
      </li>
      <li>
        Nu wil je dit blijven herhalen.
        <details>
          <summary>mBlock code</summary>
          <img
            src="https://coderdojonijmegen.github.io/verkeerslicht/img/arduino-block4.png"
            height="150px"
          />
        </details>
      </li>
      <li>Nu hebben we 1 led, kun jij een stoplicht maken?</li>
    </ol>
    <h3 id="een-led-laten-knipperen-door-een-licht-sensor">
      Een led laten knipperen door een licht sensor
    </h3>
    <ol>
      <li>
        Maak het volgende circuit (met behulp van een breadboard). <br /><img
          src="https://coderdojonijmegen.github.io/verkeerslicht/img/photocell-arduino.jpg"
          height="200px"
        />
      </li>
      <li>
        We kunnen nu de waarde van deze licht sensor uitlezen met het blok:
        <img
          src="https://coderdojonijmegen.github.io/verkeerslicht/img/analog-pin.png"
          height="50px"
        />
        <p>
          Let wel op: dit blok moet gecombineerd worden met een functie.
          Bijvoorbeeld 'groter dan' of 'kleiner dan'.
        </p>
        <img
          src="https://coderdojonijmegen.github.io/verkeerslicht/img/bigger-smaller.png"
          height="75px"
        />
        <p>Kun jij nu met de licht sensor een led aan of uit zetten?</p>
        <details>
          <summary>mBlock code</summary>
          <img
            src="https://coderdojonijmegen.github.io/verkeerslicht/img/compleet.png"
            height="250px"
          />
        </details>
      </li>
      <li>
        Nu hebben we 1 led, kun jij een stoplicht maken met 3 ledjes en 3 licht
        sensoren?
      </li>
    </ol>
    <h1 id="arduino-code">Arduino code</h1>
    <h2 id="intro-arduino">Intro Arduino</h2>
    <p>
      Als we met Arduino een programma schrijven dan hebben we altijd 2
      'functies' die we altijd gebruiken, Arduino roept deze voor ons aan.
    </p>
    <p>De functies zijn als volgt:</p>
    <pre><code class="language-Arduino"><div><span class="hljs-comment">//Deze functie wordt aangeroepen zodra de arduino opstart,</span>
<span class="hljs-comment">//dit gebeurt dan ook maar 1 keer.</span>
<span class="hljs-keyword">void</span> <span class="hljs-built_in">setup</span>() {

}

<span class="hljs-comment">//Zodra de setup() functie is afgerond,</span>
<span class="hljs-comment">//wordt de loop() functie constant aangeroepen.</span>
<span class="hljs-keyword">void</span> <span class="hljs-built_in">loop</span>() {

}
</div></code></pre>
    <p>
      Het is dan ook verstandig om in de <code>void setup()</code> functie alle
      instellingen voor het programma uit te voeren.
    </p>
    <p>
      Vervolgens kunnen we logica, zoals een led aan of uit zetten, in de
      <code>void loop()</code> functie zetten.
    </p>
    <details>
      <summary>Handige Arduino functies</summary>
      <pre><code class="language-Arduino"><div><span class="hljs-comment">//Deze functie zorgt ervoor dat een pin op de Arduino als output kan functioneren.</span>
<span class="hljs-built_in">pinMode</span>(pinNummer, <span class="hljs-literal">OUTPUT</span>);

<span class="hljs-comment">//Deze functie zorgt ervoor dat een pin op de Arduino als input kan functioneren.</span>
<span class="hljs-built_in">pinMode</span>(pinNummer, <span class="hljs-literal">INPUT</span>);

<span class="hljs-comment">//Deze functie stuurt een HOOG signaal naar een pin</span>
<span class="hljs-built_in">digitalWrite</span>(pin, <span class="hljs-literal">HIGH</span>);

<span class="hljs-comment">//Deze functie stuurt een LAAG signaal naar een pin</span>
<span class="hljs-built_in">digitalWrite</span>(pin, <span class="hljs-literal">LOW</span>);

<span class="hljs-comment">//Deze functie leest een analoge waarde van een analoge pin uit.</span>
<span class="hljs-built_in">analogRead</span>(pin);
<span class="hljs-comment">//Deze functie kan zo gebruikt worden:</span>
<span class="hljs-keyword">int</span> value = <span class="hljs-built_in">analogRead</span>(pin);

<span class="hljs-comment">//Deze functie laat het programma een aantal milliseconden wachten:</span>
<span class="hljs-built_in">delay</span>(milliseconden)
</div></code></pre>
    </details>
    <h2 id="programmeren-arduino">Programmeren Arduino</h2>
    <ol>
      <li>
        Maak het volgende circuit (met behulp van een breadboard). <br /><img
          src="https://coderdojonijmegen.github.io/verkeerslicht/img/Basic-LED.png"
          height="250px"
        />
      </li>
      <p>
        We gaan een led programmeren, hiervoor moeten we eerst een aantal
        instellingen goed zetten. We gaan bijvoorbeeld een pin hoog of laag
        aansturen. Dit betekent dat de arduino dus een signaal output.
      </p>
      <p>
        Weet jij nog hoe we een arduino pin kunnen configureren als
        <code>output</code>?
      </p>
      <p>
        Vergeet niet dat we instellingen in de <code>void setup()</code> functie
        plaatsen, zodat deze maar een keer uitgevoerd worden.
      </p>
      <details>
        <summary>Arduino code</summary>
        <pre><code class="language-Arduino"><div>
<span class="hljs-keyword">int</span> groeneLedPin = <span class="hljs-number">0</span>;

<span class="hljs-keyword">void</span> <span class="hljs-built_in">setup</span>() {
  <span class="hljs-built_in">pinMode</span>(groeneLedPin, <span class="hljs-literal">OUTPUT</span>);
}

<span class="hljs-keyword">void</span> <span class="hljs-built_in">loop</span>() {

}

</div></code></pre>
      </details>
      <li>
        <p>
          Nu hebben we een pin als output gedefinieert, kun jij hier een
          <code>HOOG</code> signaal naar toe sturen?
        </p>
        <details>
          <summary>Arduino code</summary>
          <pre><code class="language-Arduino"><div>
<span class="hljs-keyword">int</span> groeneLedPin = <span class="hljs-number">0</span>;

<span class="hljs-keyword">void</span> <span class="hljs-built_in">setup</span>() {
  <span class="hljs-built_in">pinMode</span>(groeneLedPin, <span class="hljs-literal">OUTPUT</span>);
}

<span class="hljs-keyword">void</span> <span class="hljs-built_in">loop</span>() {
  <span class="hljs-built_in">digitalWrite</span>(groeneLedPin, <span class="hljs-literal">HIGH</span>);
}

</div></code></pre>
        </details>
      </li>
      <li>
        <p>Het ledje staat nu aan, kun jij het uit zetten?</p>
        <details>
          <summary>Arduino code</summary>
          <pre><code class="language-Arduino"><div>
<span class="hljs-keyword">int</span> groeneLedPin = <span class="hljs-number">0</span>;

<span class="hljs-keyword">void</span> <span class="hljs-built_in">setup</span>() {
  <span class="hljs-built_in">pinMode</span>(groeneLedPin, <span class="hljs-literal">OUTPUT</span>);
}

<span class="hljs-keyword">void</span> <span class="hljs-built_in">loop</span>() {
  <span class="hljs-built_in">digitalWrite</span>(groeneLedPin, <span class="hljs-literal">LOW</span>);
}

</div></code></pre>
        </details>
      </li>
      <li>
        <p>En heb je een idee hoe we het ledje kunnen laten knipperen?</p>
        <details>
          <summary>Arduino code</summary>
          <pre><code class="language-Arduino"><div>
<span class="hljs-keyword">int</span> groeneLedPin = <span class="hljs-number">0</span>;

<span class="hljs-keyword">void</span> <span class="hljs-built_in">setup</span>() {
  <span class="hljs-built_in">pinMode</span>(groeneLedPin, <span class="hljs-literal">OUTPUT</span>);
}

<span class="hljs-keyword">void</span> <span class="hljs-built_in">loop</span>() {
  <span class="hljs-built_in">digitalWrite</span>(groeneLedPin, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>); <span class="hljs-comment">//1 seconde</span>
  <span class="hljs-built_in">digitalWrite</span>(groeneLedPin, <span class="hljs-literal">HIGH</span>);
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>); <span class="hljs-comment">//1 seconde</span>
}

</div></code></pre>
        </details>
      </li>
    </ol>
    <p>Nu hebben we 1 led, kun jij een stoplicht maken met 3 ledjes ?</p>
    <h3 id="een-led-laten-knipperen-door-een-licht-sensor-1">
      Een led laten knipperen door een licht sensor
    </h3>
    <ol>
      <li>
        Maak het volgende circuit (met behulp van een breadboard). <br /><img
          src="https://coderdojonijmegen.github.io/verkeerslicht/img/Photocell-arduino.jpg"
          height="200px"
        />
      </li>
      <li>
        We kunnen nu de waarde van deze licht sensor uitlezen met de functie:
        <pre><code class="language-Arduino"><div><span class="hljs-comment">//Geeft een getal terug tussen de 0 en 1023. (int)</span>
<span class="hljs-built_in">analogRead</span>(pin);
<span class="hljs-comment">//Sla de waarde op in 'gelezenWaarde'</span>
<span class="hljs-keyword">int</span> gelezenWaarde = <span class="hljs-built_in">analogRead</span>(pin);
</div></code></pre>
      </li>
      <li>
        <p>
          We voegen nu een <code>input</code> toe aan ons systeem, weet jij nog
          hoe we dit instellen?
        </p>
        <details>
          <summary>Arduin Code</summary>
          <pre><code class="language-Arduino"><div><span class="hljs-keyword">int</span> groeneLedPin = <span class="hljs-number">0</span>;
<span class="hljs-keyword">int</span> lichtSensorPin = <span class="hljs-number">1</span>;

<span class="hljs-keyword">void</span> <span class="hljs-built_in">setup</span>() {
  <span class="hljs-built_in">pinMode</span>(groeneLedPin, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(lichtSensorPin, <span class="hljs-literal">INPUT</span>);
}

<span class="hljs-keyword">void</span> <span class="hljs-built_in">loop</span>() {

}
</div></code></pre>
        </details>
      </li>
      <li>
        <p>
          Als de waarde van de lichtsensor nu hoger is dan bijvoorbeeld 500, kun
          jij dan de led uitzetten?
        </p>
        <details>
          <summary>Code </summary>
          <pre><code class="language-Arduino"><div><span class="hljs-keyword">int</span> groeneLedPin = <span class="hljs-number">0</span>;
<span class="hljs-keyword">int</span> lichtSensorPin = <span class="hljs-number">1</span>;

<span class="hljs-keyword">void</span> <span class="hljs-built_in">setup</span>() {
  <span class="hljs-built_in">pinMode</span>(groeneLedPin, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(lichtSensorPin, <span class="hljs-literal">INPUT</span>);
}

<span class="hljs-keyword">void</span> <span class="hljs-built_in">loop</span>() {
  <span class="hljs-keyword">int</span> gelezenWaarde = <span class="hljs-built_in">analogRead</span>(lichtSensorPin);

  <span class="hljs-built_in">if</span> (gelezenWaarde &gt; <span class="hljs-number">500</span>)
  {
    <span class="hljs-built_in">digitalWrite</span>(groeneLedPin, <span class="hljs-literal">HIGH</span>);
  }
  <span class="hljs-built_in">else</span>
  {
    <span class="hljs-built_in">digitalWrite</span>(groeneLedPin, <span class="hljs-literal">LOW</span>);
  }
}
</div></code></pre>
        </details>
      </li>
      <li>
        Nu hebben we 1 led, kun jij een stoplicht maken met 3 ledjes en 3 licht
        sensoren?
      </li>
    </ol>
  </body>
</html>
